{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport { useFetchQuestionsQuery } from \"../store\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setUserField, loadQuestionsData, useLazyFetchQuestionsQuery } from \"../store\";\nimport { useEffect, useState } from \"react\";\nfunction TryLoadUserQuestions(user) {\n  _s2();\n  var _s = $RefreshSig$();\n  // const fetchQuestions = useFetchQuestionsQuery();\n  const dispatch = useDispatch();\n  let [fetchQuestions, results] = useLazyFetchQuestionsQuery();\n  const loadQuestions = () => {\n    _s();\n    [fetchQuestions, results] = useLazyFetchQuestionsQuery();\n    fetchQuestions();\n    // console.log(fetchQuestions());\n  };\n\n  // Filter and dispatch loaded user questions\n  _s(loadQuestions, \"ZDjsMEmpBKATH88pLll8+DEE6WA=\", false, function () {\n    return [useLazyFetchQuestionsQuery];\n  });\n  useEffect(() => {\n    console.log(results);\n    if (!user || user.id == 0) return;\n    if (results.isUninitialized) {\n      // fetchQuestions();\n      return;\n    }\n    if (!results.isSuccess || results.isUninitialized || results.isFetching) return;\n\n    // if(fetchQuestions.isFetching ||\n    //     fetchQuestions.isLoading ||\n    //     fetchQuestions.error) return;\n\n    let filteredQuestions = [];\n    results.data.map(question => {\n      user.questionsId.map(id => {\n        if (id == question.id) {\n          filteredQuestions.push(question);\n        }\n      });\n    });\n    dispatch(loadQuestionsData(filteredQuestions));\n    console.log('loaded filtered questions to slice');\n    console.log(filteredQuestions);\n    if (!user.startedExam) {\n      const newDate = new Date();\n      const startTime = `${newDate.getDate()}/${newDate.getMonth() + 1}/${newDate.getFullYear()}-${newDate.getHours()}:${newDate.getMinutes()}:${newDate.getSeconds()}`;\n      setUserField(\"startedExam\", true);\n      setUserField(\"examStartTime\", startTime);\n    }\n  });\n  return [fetchQuestions, results];\n}\n_s2(TryLoadUserQuestions, \"837pc1Ufs542jNwhVuVqbeCKj9U=\", false, function () {\n  return [useDispatch, useLazyFetchQuestionsQuery];\n});\n_c = TryLoadUserQuestions;\nexport default TryLoadUserQuestions;\nvar _c;\n$RefreshReg$(_c, \"TryLoadUserQuestions\");","map":{"version":3,"names":["useFetchQuestionsQuery","useDispatch","useSelector","setUserField","loadQuestionsData","useLazyFetchQuestionsQuery","useEffect","useState","TryLoadUserQuestions","user","dispatch","fetchQuestions","results","loadQuestions","console","log","id","isUninitialized","isSuccess","isFetching","filteredQuestions","data","map","question","questionsId","push","startedExam","newDate","Date","startTime","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds"],"sources":["/Users/machadogomes/Documents/InterviewHub/question_hub/src/Hooks/TryLoadUserQuestions.js"],"sourcesContent":["import { useFetchQuestionsQuery } from \"../store\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setUserField, \n    loadQuestionsData,\n    useLazyFetchQuestionsQuery\n } from \"../store\";\nimport { useEffect, useState } from \"react\";\n\nfunction TryLoadUserQuestions(user)\n{\n    // const fetchQuestions = useFetchQuestionsQuery();\n    const dispatch = useDispatch();\n    let [fetchQuestions, results] = useLazyFetchQuestionsQuery();\n    \n    const loadQuestions = () =>\n    {\n        [fetchQuestions, results] = useLazyFetchQuestionsQuery();\n        fetchQuestions();\n        // console.log(fetchQuestions());\n    }\n\n    // Filter and dispatch loaded user questions\n    useEffect(() => {\n\n        console.log(results);\n        if(!user || user.id == 0) return;\n        if(results.isUninitialized) \n        {\n            // fetchQuestions();\n            return;\n        }\n\n        if(!results.isSuccess || \n            results.isUninitialized ||\n            results.isFetching) return;\n        \n        // if(fetchQuestions.isFetching ||\n        //     fetchQuestions.isLoading ||\n        //     fetchQuestions.error) return;\n\n        let filteredQuestions = [];\n        results.data.map((question) =>\n        {\n            user.questionsId.map((id) => {\n                if(id == question.id) \n                {\n                    filteredQuestions.push(question);\n                }\n            });\n        })\n    \n        dispatch(loadQuestionsData(filteredQuestions));\n        console.log('loaded filtered questions to slice');\n        console.log(filteredQuestions);\n        \n        if(!user.startedExam)\n        {\n            const newDate = new Date();\n            const startTime = `${newDate.getDate()}/${newDate.getMonth()+1}/${newDate.getFullYear()}-${newDate.getHours()}:${newDate.getMinutes()}:${newDate.getSeconds()}`;\n    \n            setUserField(\"startedExam\", true);\n            setUserField(\"examStartTime\", startTime);\n        }\n\n    });\n\n    return [fetchQuestions, results];\n}\n\nexport default TryLoadUserQuestions;"],"mappings":";AAAA,SAASA,sBAAsB,QAAQ,UAAU;AACjD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,YAAY,EACjBC,iBAAiB,EACjBC,0BAA0B,QACtB,UAAU;AAClB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,SAASC,oBAAoB,CAACC,IAAI,EAClC;EAAA;EAAA;EACI;EACA,MAAMC,QAAQ,GAAGT,WAAW,EAAE;EAC9B,IAAI,CAACU,cAAc,EAAEC,OAAO,CAAC,GAAGP,0BAA0B,EAAE;EAE5D,MAAMQ,aAAa,GAAG,MACtB;IAAA;IACI,CAACF,cAAc,EAAEC,OAAO,CAAC,GAAGP,0BAA0B,EAAE;IACxDM,cAAc,EAAE;IAChB;EACJ,CAAC;;EAED;EAAA,GAPME,aAAa;IAAA,QAEaR,0BAA0B;EAAA;EAM1DC,SAAS,CAAC,MAAM;IAEZQ,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC;IACpB,IAAG,CAACH,IAAI,IAAIA,IAAI,CAACO,EAAE,IAAI,CAAC,EAAE;IAC1B,IAAGJ,OAAO,CAACK,eAAe,EAC1B;MACI;MACA;IACJ;IAEA,IAAG,CAACL,OAAO,CAACM,SAAS,IACjBN,OAAO,CAACK,eAAe,IACvBL,OAAO,CAACO,UAAU,EAAE;;IAExB;IACA;IACA;;IAEA,IAAIC,iBAAiB,GAAG,EAAE;IAC1BR,OAAO,CAACS,IAAI,CAACC,GAAG,CAAEC,QAAQ,IAC1B;MACId,IAAI,CAACe,WAAW,CAACF,GAAG,CAAEN,EAAE,IAAK;QACzB,IAAGA,EAAE,IAAIO,QAAQ,CAACP,EAAE,EACpB;UACII,iBAAiB,CAACK,IAAI,CAACF,QAAQ,CAAC;QACpC;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;IAEFb,QAAQ,CAACN,iBAAiB,CAACgB,iBAAiB,CAAC,CAAC;IAC9CN,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;IACjDD,OAAO,CAACC,GAAG,CAACK,iBAAiB,CAAC;IAE9B,IAAG,CAACX,IAAI,CAACiB,WAAW,EACpB;MACI,MAAMC,OAAO,GAAG,IAAIC,IAAI,EAAE;MAC1B,MAAMC,SAAS,GAAI,GAAEF,OAAO,CAACG,OAAO,EAAG,IAAGH,OAAO,CAACI,QAAQ,EAAE,GAAC,CAAE,IAAGJ,OAAO,CAACK,WAAW,EAAG,IAAGL,OAAO,CAACM,QAAQ,EAAG,IAAGN,OAAO,CAACO,UAAU,EAAG,IAAGP,OAAO,CAACQ,UAAU,EAAG,EAAC;MAE/JhC,YAAY,CAAC,aAAa,EAAE,IAAI,CAAC;MACjCA,YAAY,CAAC,eAAe,EAAE0B,SAAS,CAAC;IAC5C;EAEJ,CAAC,CAAC;EAEF,OAAO,CAAClB,cAAc,EAAEC,OAAO,CAAC;AACpC;AAAC,IA3DQJ,oBAAoB;EAAA,QAGRP,WAAW,EACII,0BAA0B;AAAA;AAAA,KAJrDG,oBAAoB;AA6D7B,eAAeA,oBAAoB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}