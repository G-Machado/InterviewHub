{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setSubmissionDirty, useUpdateSubmissionMutation } from '../store';\nfunction SubmissionUploader() {\n  _s();\n  const user = useSelector(state => state.userData);\n  const userAnswers = useSelector(state => state.submissionData);\n  const [updateSubmission, updateResults] = useUpdateSubmissionMutation();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (user.id == 0) return;\n    if (!user.startedExam) return;\n    let answers = [];\n    const submission = {\n      id: user.id,\n      answers: answers,\n      isDirty: false\n    };\n    userAnswers.answers.map(question => {\n      answers.push({\n        questionId: question.id,\n        answerId: question.userAnswerId || 0\n      });\n    });\n    updateSubmission(submission);\n    console.log(\"Updated submission after mutation\");\n    dispatch(setSubmissionDirty({\n      value: false\n    }));\n  }, [userAnswers]);\n}\n_s(SubmissionUploader, \"yTIKr4zaEQbrk/JcXgpJZxfqWLQ=\", false, function () {\n  return [useSelector, useSelector, useUpdateSubmissionMutation, useDispatch];\n});\n_c = SubmissionUploader;\nexport default SubmissionUploader;\nvar _c;\n$RefreshReg$(_c, \"SubmissionUploader\");","map":{"version":3,"names":["useEffect","useSelector","useDispatch","setSubmissionDirty","useUpdateSubmissionMutation","SubmissionUploader","user","state","userData","userAnswers","submissionData","updateSubmission","updateResults","dispatch","id","startedExam","answers","submission","isDirty","map","question","push","questionId","answerId","userAnswerId","console","log","value"],"sources":["/Users/machadogomes/Documents/InterviewHub/question_hub/src/Effects/SubmissionUploader.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setSubmissionDirty, useUpdateSubmissionMutation } from '../store';\n\nfunction SubmissionUploader()\n{\n    const user = useSelector(state => state.userData);\n    const userAnswers = useSelector((state)=>state.submissionData);\n    const [updateSubmission, updateResults] = useUpdateSubmissionMutation();\n    const dispatch = useDispatch();\n    \n    useEffect(()=>{\n\n        if(user.id == 0) return;\n        if(!user.startedExam) return;\n\n        let answers = [];\n        const submission = {id: user.id, answers: answers, isDirty: false};\n        userAnswers.answers.map((question) =>\n        {\n            answers.push({questionId: question.id, answerId: question.userAnswerId || 0});\n        })\n\n        updateSubmission(submission);\n        console.log(\"Updated submission after mutation\");\n        dispatch(setSubmissionDirty({value: false}));\n\n    }, [userAnswers]);\n}\n\nexport default SubmissionUploader;"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,kBAAkB,EAAEC,2BAA2B,QAAQ,UAAU;AAE1E,SAASC,kBAAkB,GAC3B;EAAA;EACI,MAAMC,IAAI,GAAGL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACC,QAAQ,CAAC;EACjD,MAAMC,WAAW,GAAGR,WAAW,CAAEM,KAAK,IAAGA,KAAK,CAACG,cAAc,CAAC;EAC9D,MAAM,CAACC,gBAAgB,EAAEC,aAAa,CAAC,GAAGR,2BAA2B,EAAE;EACvE,MAAMS,QAAQ,GAAGX,WAAW,EAAE;EAE9BF,SAAS,CAAC,MAAI;IAEV,IAAGM,IAAI,CAACQ,EAAE,IAAI,CAAC,EAAE;IACjB,IAAG,CAACR,IAAI,CAACS,WAAW,EAAE;IAEtB,IAAIC,OAAO,GAAG,EAAE;IAChB,MAAMC,UAAU,GAAG;MAACH,EAAE,EAAER,IAAI,CAACQ,EAAE;MAAEE,OAAO,EAAEA,OAAO;MAAEE,OAAO,EAAE;IAAK,CAAC;IAClET,WAAW,CAACO,OAAO,CAACG,GAAG,CAAEC,QAAQ,IACjC;MACIJ,OAAO,CAACK,IAAI,CAAC;QAACC,UAAU,EAAEF,QAAQ,CAACN,EAAE;QAAES,QAAQ,EAAEH,QAAQ,CAACI,YAAY,IAAI;MAAC,CAAC,CAAC;IACjF,CAAC,CAAC;IAEFb,gBAAgB,CAACM,UAAU,CAAC;IAC5BQ,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IAChDb,QAAQ,CAACV,kBAAkB,CAAC;MAACwB,KAAK,EAAE;IAAK,CAAC,CAAC,CAAC;EAEhD,CAAC,EAAE,CAAClB,WAAW,CAAC,CAAC;AACrB;AAAC,GAxBQJ,kBAAkB;EAAA,QAEVJ,WAAW,EACJA,WAAW,EACWG,2BAA2B,EACpDF,WAAW;AAAA;AAAA,KALvBG,kBAAkB;AA0B3B,eAAeA,kBAAkB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}