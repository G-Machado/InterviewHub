{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setUserField, useUploadUserMutation, usePostSubmissionMutation } from '../store';\nfunction useUploadUser() {\n  _s();\n  const [uploadUser, updateUserResults] = useUploadUserMutation();\n  const user = useSelector(state => state.userData);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (user.id == 0) return;\n    console.log(`user mutation, isDirty ${user.isDirty}`);\n    if (!user.isDirty) return;\n    uploadUser(user);\n    console.log(\"Uploaded user after mutation\");\n    dispatch(setUserField({\n      key: \"isDirty\",\n      value: false\n    }));\n  }, [user]);\n  const submission = useSelector(state => state.questionsData);\n  const [submmitExam, submitResults] = usePostSubmissionMutation();\n  useEffect(() => {\n    console.log(\"Uploaded submission after mutation\");\n    submmitExam(submission);\n  }, [submission]);\n  return () => {\n    uploadUser(user);\n  };\n}\n_s(useUploadUser, \"PxDRdXbYszKG3zjN3Xq0/KslubM=\", false, function () {\n  return [useUploadUserMutation, useSelector, useDispatch, useSelector, usePostSubmissionMutation];\n});\nexport default useUploadUser;","map":{"version":3,"names":["useEffect","useSelector","useDispatch","setUserField","useUploadUserMutation","usePostSubmissionMutation","useUploadUser","uploadUser","updateUserResults","user","state","userData","dispatch","id","console","log","isDirty","key","value","submission","questionsData","submmitExam","submitResults"],"sources":["/Users/machadogomes/Documents/InterviewHub/question_hub/src/Hooks/useUploadUser.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setUserField, useUploadUserMutation, usePostSubmissionMutation } from '../store';\n\nfunction useUploadUser()\n{\n    const [uploadUser, updateUserResults] = useUploadUserMutation();\n    const user = useSelector((state)=> state.userData);\n    const dispatch = useDispatch();\n\n    useEffect(()=>{\n        \n        if(user.id == 0) return;\n\n        console.log(`user mutation, isDirty ${user.isDirty}`);\n        if(!user.isDirty) return;\n\n        uploadUser(user);\n        console.log(\"Uploaded user after mutation\");\n        dispatch(setUserField({key: \"isDirty\", value:false}));\n\n    }, [user]);\n\n    const submission = useSelector((state)=>state.questionsData);\n    const [submmitExam, submitResults] = usePostSubmissionMutation();\n    useEffect(()=>{\n        console.log(\"Uploaded submission after mutation\");\n        submmitExam(submission);\n    }, [submission]);\n\n    return () => {uploadUser(user)}\n}\n\nexport default useUploadUser;"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,YAAY,EAAEC,qBAAqB,EAAEC,yBAAyB,QAAQ,UAAU;AAEzF,SAASC,aAAa,GACtB;EAAA;EACI,MAAM,CAACC,UAAU,EAAEC,iBAAiB,CAAC,GAAGJ,qBAAqB,EAAE;EAC/D,MAAMK,IAAI,GAAGR,WAAW,CAAES,KAAK,IAAIA,KAAK,CAACC,QAAQ,CAAC;EAClD,MAAMC,QAAQ,GAAGV,WAAW,EAAE;EAE9BF,SAAS,CAAC,MAAI;IAEV,IAAGS,IAAI,CAACI,EAAE,IAAI,CAAC,EAAE;IAEjBC,OAAO,CAACC,GAAG,CAAE,0BAAyBN,IAAI,CAACO,OAAQ,EAAC,CAAC;IACrD,IAAG,CAACP,IAAI,CAACO,OAAO,EAAE;IAElBT,UAAU,CAACE,IAAI,CAAC;IAChBK,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;IAC3CH,QAAQ,CAACT,YAAY,CAAC;MAACc,GAAG,EAAE,SAAS;MAAEC,KAAK,EAAC;IAAK,CAAC,CAAC,CAAC;EAEzD,CAAC,EAAE,CAACT,IAAI,CAAC,CAAC;EAEV,MAAMU,UAAU,GAAGlB,WAAW,CAAES,KAAK,IAAGA,KAAK,CAACU,aAAa,CAAC;EAC5D,MAAM,CAACC,WAAW,EAAEC,aAAa,CAAC,GAAGjB,yBAAyB,EAAE;EAChEL,SAAS,CAAC,MAAI;IACVc,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;IACjDM,WAAW,CAACF,UAAU,CAAC;EAC3B,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhB,OAAO,MAAM;IAACZ,UAAU,CAACE,IAAI,CAAC;EAAA,CAAC;AACnC;AAAC,GA3BQH,aAAa;EAAA,QAEsBF,qBAAqB,EAChDH,WAAW,EACPC,WAAW,EAeTD,WAAW,EACOI,yBAAyB;AAAA;AASlE,eAAeC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}